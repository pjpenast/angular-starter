<join-layout
    title="{{'NEW_APPLICATION' | translate}}">
    <div class="row" body>
        <div class="panel sort-disable mb50 panel-editbox-open">

            <div class="panel-body">

                <form (ngSubmit)="onSubmit(form.value, form.valid)" novalidate [formGroup]="form" class="register-form allcp-form" [ngClass]="{'submit' : submitted}">
                    <div class="form-body col-md-12">

                        <join-alert
                           [show]="errorShow"
                           mode="danger"
                           icon="exclamation-triangle"
                           [message]="errorMessage">
                        </join-alert>

                        <join-input
                            name="name"
                            type="text"
                            [error]="form.controls.name.errors"
                            errormessage="{{'THIS_FIELD_IS_REQUIRED' | translate}}"
                            formControlName="name"
                            placeholder="Introduce un nombre">
                            {{'APPLICATION_NAME' | translate}}
                        </join-input>

                        <div class="form-group" [ngClass]="{'has-error': form.controls.platform.errors }">
                            <label>{{'PLATFORMS' | translate}}</label>
                            <join-select
                                [options]="platforms"
                                formControlName="platform">
                            </join-select>
                             <span class="help-block">{{'THIS_FIELD_IS_REQUIRED' | translate}}</span>
                        </div>
                        <div class="form-group" [ngClass]="{'has-error': form.controls.languages.errors }">
                            <label>{{'LANGUAGES' | translate}}</label>
                            <join-select
                                [options]="languages"
                                formControlName="languages">
                            </join-select>
                             <span class="help-block">{{'THIS_FIELD_IS_REQUIRED' | translate}}</span>
                        </div>

                        <join-input
                            name="code"
                            type="text"
                            [error]="form.controls.code.errors"
                            errormessage="{{'THIS_CODE_IS_INVALID' | translate}}"
                            formControlName="code"
                            placeholder="Ejemplo: com.joinble.app">
                            {{'APPLICATION_CODE' | translate}}
                        </join-input>

                        <join-input
                            name="domain"
                            type="url"
                            [error]="form.controls.domain.errors"
                            errormessage="{{'THIS_DOMAIN_IS_INVALID' | translate}}"
                            formControlName="domain"
                            placeholder="Ejemplo: http://www.joinbleapp.com">
                            {{'DOMAIN' | translate}}
                        </join-input>

                        <div class="form-group" [ngClass]="{'has-error': form.controls.icon.errors }">
                            <label>{{'ICON' | translate}}</label>
                            <join-input-file
                               formControlName="icon"
                               placeholder="{{'SELECT_A_PICTURE' | translate}}"
                               [image]="app?.icon.url"
                               [formats]="formatFile">
                            </join-input-file>
                             <span class="help-block">{{'THIS_FIELD_IS_REQUIRED' | translate}}</span>

                        </div>
                        <div class="form-actions">
                            <button type="button" routerLink="/apps" class="btn btn-default">
                                <i class="fa fa-chevron-left"></i>
                                {{'CANCEL' | translate}}
                            </button>
                            <button type="submit" class="btn btn-info">
                                <i class="fa fa-floppy-o"></i>
                                {{'SAVE' | translate}}
                            </button>
                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>
</join-layout>
